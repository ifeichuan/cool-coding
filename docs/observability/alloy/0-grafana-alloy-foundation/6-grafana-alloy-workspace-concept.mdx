---
title: Grafana Alloy å·¥ä½œåŒºæ¦‚å¿µ
description: äº†è§£Grafana Alloyä¸­çš„å·¥ä½œåŒºæ¦‚å¿µï¼ŒæŒæ¡å¦‚ä½•é€šè¿‡å·¥ä½œåŒºç»„ç»‡å’Œç®¡ç†æ•°æ®æµã€‚
---

# Grafana Alloy å·¥ä½œåŒºæ¦‚å¿µ

Grafana Alloy æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®æµç¼–æ’å·¥å…·ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·é«˜æ•ˆåœ°ç®¡ç†å’Œå¤„ç†æ•°æ®æµã€‚åœ¨ Alloy ä¸­ï¼Œ**å·¥ä½œåŒºï¼ˆWorkspaceï¼‰** æ˜¯ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªé€»è¾‘ä¸Šçš„éš”ç¦»ç¯å¢ƒï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†æ•°æ®æµã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å·¥ä½œåŒºçš„æ¦‚å¿µã€ä½¿ç”¨æ–¹æ³•ä»¥åŠå®é™…åº”ç”¨åœºæ™¯ã€‚

---

## ä»€ä¹ˆæ˜¯å·¥ä½œåŒºï¼Ÿ

åœ¨ Grafana Alloy ä¸­ï¼Œ**å·¥ä½œåŒº**æ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„å®¹å™¨ï¼Œç”¨äºç»„ç»‡å’Œéš”ç¦»æ•°æ®æµã€‚æ¯ä¸ªå·¥ä½œåŒºå¯ä»¥åŒ…å«å¤šä¸ªæ•°æ®æµç»„ä»¶ï¼ˆå¦‚æ•°æ®æºã€å¤„ç†å™¨ã€è¾“å‡ºç­‰ï¼‰ï¼Œå¹¶ä¸”è¿™äº›ç»„ä»¶åœ¨å·¥ä½œåŒºå†…æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å·¥ä½œåŒºçš„ä¸»è¦ä½œç”¨æ˜¯å¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç®¡ç†å’Œç»„ç»‡å¤æ‚çš„æ•°æ®æµã€‚

:::note
å·¥ä½œåŒºæ˜¯ Alloy ä¸­æ•°æ®æµç®¡ç†çš„åŸºæœ¬å•ä½ï¼Œç±»ä¼¼äºç¼–ç¨‹ä¸­çš„â€œå‘½åç©ºé—´â€æˆ–â€œæ¨¡å—â€ã€‚
:::

---

## å·¥ä½œåŒºçš„åŸºæœ¬ç»“æ„

ä¸€ä¸ªå·¥ä½œåŒºé€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. **æ•°æ®æºï¼ˆData Sourcesï¼‰**ï¼šå®šä¹‰æ•°æ®çš„æ¥æºï¼Œä¾‹å¦‚ Prometheusã€Loki æˆ– Kafkaã€‚
2. **å¤„ç†å™¨ï¼ˆProcessorsï¼‰**ï¼šå¯¹æ•°æ®è¿›è¡Œå¤„ç†æˆ–è½¬æ¢ï¼Œä¾‹å¦‚è¿‡æ»¤ã€èšåˆæˆ–é‡å‘½åã€‚
3. **è¾“å‡ºï¼ˆExportersï¼‰**ï¼šå°†å¤„ç†åçš„æ•°æ®å‘é€åˆ°ç›®æ ‡ç³»ç»Ÿï¼Œä¾‹å¦‚ Grafana Cloud æˆ–æœ¬åœ°å­˜å‚¨ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å·¥ä½œåŒºé…ç½®ç¤ºä¾‹ï¼š

```yaml
workspace: "example_workspace"

data_sources:
  - name: "prometheus"
    type: "prometheus"
    config:
      url: "http://localhost:9090"

processors:
  - name: "filter_metrics"
    type: "filter"
    config:
      include: ["http_requests_total"]

exporters:
  - name: "grafana_cloud"
    type: "prometheus_remote_write"
    config:
      endpoint: "https://prometheus-us-central1.grafana.net/api/prom/push"
      basic_auth:
        username: "your_username"
        password: "your_password"
```

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º `example_workspace` çš„å·¥ä½œåŒºï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª Prometheus æ•°æ®æºã€ä¸€ä¸ªè¿‡æ»¤å™¨å¤„ç†å™¨å’Œä¸€ä¸ª Grafana Cloud è¾“å‡ºã€‚

---

## å·¥ä½œåŒºçš„å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šå¤šç¯å¢ƒæ•°æ®æµéš”ç¦»

å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå¹¶éœ€è¦åœ¨å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒä¸­åˆ†åˆ«ç›‘æ§æ•°æ®æµã€‚é€šè¿‡ä½¿ç”¨å·¥ä½œåŒºï¼Œä½ å¯ä»¥ä¸ºæ¯ä¸ªç¯å¢ƒåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œåŒºï¼Œä»è€Œé¿å…æ•°æ®æ··æ·†ã€‚

```yaml
workspace: "development"

data_sources:
  - name: "dev_prometheus"
    type: "prometheus"
    config:
      url: "http://dev-prometheus:9090"

exporters:
  - name: "dev_grafana_cloud"
    type: "prometheus_remote_write"
    config:
      endpoint: "https://prometheus-dev.grafana.net/api/prom/push"
```

```yaml
workspace: "production"

data_sources:
  - name: "prod_prometheus"
    type: "prometheus"
    config:
      url: "http://prod-prometheus:9090"

exporters:
  - name: "prod_grafana_cloud"
    type: "prometheus_remote_write"
    config:
      endpoint: "https://prometheus-prod.grafana.net/api/prom/push"
```

### åœºæ™¯ 2ï¼šå¤šç§Ÿæˆ·æ•°æ®æµç®¡ç†

å¦‚æœä½ éœ€è¦ä¸ºå¤šä¸ªå®¢æˆ·æˆ–ç§Ÿæˆ·æä¾›ç›‘æ§æœåŠ¡ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªç§Ÿæˆ·åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œåŒºã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ•°æ®æµçš„éš”ç¦»æ€§å’Œå®‰å…¨æ€§ã€‚

```yaml
workspace: "tenant_a"

data_sources:
  - name: "tenant_a_prometheus"
    type: "prometheus"
    config:
      url: "http://tenant-a-prometheus:9090"

exporters:
  - name: "tenant_a_grafana_cloud"
    type: "prometheus_remote_write"
    config:
      endpoint: "https://prometheus-tenant-a.grafana.net/api/prom/push"
```

```yaml
workspace: "tenant_b"

data_sources:
  - name: "tenant_b_prometheus"
    type: "prometheus"
    config:
      url: "http://tenant-b-prometheus:9090"

exporters:
  - name: "tenant_b_grafana_cloud"
    type: "prometheus_remote_write"
    config:
      endpoint: "https://prometheus-tenant-b.grafana.net/api/prom/push"
```

---

## å·¥ä½œåŒºçš„ä¼˜åŠ¿

1. **éš”ç¦»æ€§**ï¼šæ¯ä¸ªå·¥ä½œåŒºæ˜¯ç‹¬ç«‹çš„ï¼Œé¿å…äº†æ•°æ®æµä¹‹é—´çš„å†²çªã€‚
2. **å¯æ‰©å±•æ€§**ï¼šå¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºå¤šä¸ªå·¥ä½œåŒºï¼Œé€‚åº”ä¸åŒçš„åœºæ™¯ã€‚
3. **æ˜“ç®¡ç†æ€§**ï¼šé€šè¿‡å·¥ä½œåŒºå¯ä»¥æ›´æ¸…æ™°åœ°ç»„ç»‡å’Œç®¡ç†æ•°æ®æµã€‚

---

## æ€»ç»“

Grafana Alloy çš„å·¥ä½œåŒºæ¦‚å¿µä¸ºç”¨æˆ·æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ–¹å¼æ¥ç»„ç»‡å’Œç®¡ç†æ•°æ®æµã€‚æ— è®ºæ˜¯å¤šç¯å¢ƒéš”ç¦»è¿˜æ˜¯å¤šç§Ÿæˆ·ç®¡ç†ï¼Œå·¥ä½œåŒºéƒ½èƒ½å¸®åŠ©ä½ è½»æ¾åº”å¯¹å¤æ‚çš„åœºæ™¯ã€‚é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº†å·¥ä½œåŒºçš„åŸºæœ¬æ¦‚å¿µå’Œå®é™…åº”ç”¨æ–¹æ³•ã€‚

---

## é™„åŠ èµ„æºä¸ç»ƒä¹ 

1. **ç»ƒä¹ **ï¼šå°è¯•åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªæ•°æ®æºå’Œå¤„ç†å™¨çš„å·¥ä½œåŒºï¼Œå¹¶å°†å…¶è¾“å‡ºåˆ° Grafana Cloudã€‚
2. **å®˜æ–¹æ–‡æ¡£**ï¼šé˜…è¯» [Grafana Alloy å®˜æ–¹æ–‡æ¡£](https://grafana.com/docs/alloy/) ä»¥æ·±å…¥äº†è§£å·¥ä½œåŒºçš„æ›´å¤šé«˜çº§åŠŸèƒ½ã€‚
3. **ç¤¾åŒºæ”¯æŒ**ï¼šåŠ å…¥ [Grafana ç¤¾åŒºè®ºå›](https://community.grafana.com/) è·å–æ›´å¤šå¸®åŠ©å’Œçµæ„Ÿã€‚

Happy coding! ğŸš€