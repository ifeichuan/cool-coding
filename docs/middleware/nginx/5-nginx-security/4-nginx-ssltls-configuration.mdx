---
title: Nginx SSL/TLS é…ç½®
description: å­¦ä¹ å¦‚ä½•åœ¨ Nginx ä¸­é…ç½® SSL/TLSï¼Œç¡®ä¿ç½‘ç«™é€šä¿¡çš„å®‰å…¨æ€§ã€‚æœ¬æ–‡é€‚åˆåˆå­¦è€…ï¼ŒåŒ…å«è¯¦ç»†çš„æ­¥éª¤ã€ä»£ç ç¤ºä¾‹å’Œå®é™…åº”ç”¨åœºæ™¯ã€‚
---

## ä»‹ç»

SSLï¼ˆSecure Sockets Layerï¼‰å’Œ TLSï¼ˆTransport Layer Securityï¼‰æ˜¯ç”¨äºåŠ å¯†ç½‘ç»œé€šä¿¡çš„åè®®ã€‚å®ƒä»¬ç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“æ˜¯å®‰å…¨çš„ï¼Œé˜²æ­¢æ•°æ®è¢«çªƒå¬æˆ–ç¯¡æ”¹ã€‚Nginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨ï¼Œæ”¯æŒ SSL/TLS é…ç½®ï¼Œèƒ½å¤Ÿä¸ºç½‘ç«™æä¾›å®‰å…¨çš„ HTTPS è¿æ¥ã€‚

æœ¬æ–‡å°†é€æ­¥è®²è§£å¦‚ä½•åœ¨ Nginx ä¸­é…ç½® SSL/TLSï¼Œå¹¶æä¾›å®é™…æ¡ˆä¾‹å’Œä»£ç ç¤ºä¾‹ã€‚

---

## ä¸ºä»€ä¹ˆéœ€è¦ SSL/TLSï¼Ÿ

1. **æ•°æ®åŠ å¯†**ï¼šSSL/TLS åŠ å¯†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†ç ã€ä¿¡ç”¨å¡å·ï¼‰è¢«çªƒå–ã€‚
2. **èº«ä»½éªŒè¯**ï¼šSSL/TLS è¯ä¹¦éªŒè¯æœåŠ¡å™¨çš„èº«ä»½ï¼Œç¡®ä¿ç”¨æˆ·è¿æ¥åˆ°çš„æ˜¯åˆæ³•çš„æœåŠ¡å™¨ã€‚
3. **SEO ä¼˜åŠ¿**ï¼šæœç´¢å¼•æ“ï¼ˆå¦‚ Googleï¼‰ä¼šä¼˜å…ˆæ’åä½¿ç”¨ HTTPS çš„ç½‘ç«™ã€‚
4. **ç”¨æˆ·ä¿¡ä»»**ï¼šæµè§ˆå™¨ä¼šæ˜¾ç¤º HTTPS å’Œé”å›¾æ ‡ï¼Œå¢åŠ ç”¨æˆ·å¯¹ç½‘ç«™çš„ä¿¡ä»»ã€‚

---

## é…ç½® SSL/TLS çš„æ­¥éª¤

### 1. è·å– SSL/TLS è¯ä¹¦

SSL/TLS è¯ä¹¦å¯ä»¥ä»è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰è·å–ï¼Œä¾‹å¦‚ Let's Encryptã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨ Let's Encrypt è·å–å…è´¹è¯ä¹¦çš„æ­¥éª¤ï¼š

1. å®‰è£… Certbot å·¥å…·ï¼š
   ```bash
   sudo apt install certbot python3-certbot-nginx
   ```
2. è·å–è¯ä¹¦ï¼š
   ```bash
   sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
   ```
   Certbot ä¼šè‡ªåŠ¨é…ç½® Nginx å¹¶å®‰è£…è¯ä¹¦ã€‚

:::tip
å¦‚æœä½ æ²¡æœ‰åŸŸåï¼Œå¯ä»¥ä½¿ç”¨è‡ªç­¾åè¯ä¹¦è¿›è¡Œæµ‹è¯•ã€‚ç”Ÿæˆè‡ªç­¾åè¯ä¹¦çš„å‘½ä»¤å¦‚ä¸‹ï¼š
```bash
sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/nginx-selfsigned.key -out /etc/ssl/certs/nginx-selfsigned.crt
```
:::

### 2. é…ç½® Nginx ä½¿ç”¨ SSL/TLS

ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼ˆé€šå¸¸ä½äº `/etc/nginx/sites-available/default` æˆ– `/etc/nginx/nginx.conf`ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```nginx
server {
    listen 443 ssl;
    server_name yourdomain.com;

    ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
    ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;

    location / {
        root /var/www/html;
        index index.html;
    }
}
```

- `listen 443 ssl;`ï¼šç›‘å¬ 443 ç«¯å£å¹¶å¯ç”¨ SSLã€‚
- `ssl_certificate` å’Œ `ssl_certificate_key`ï¼šæŒ‡å®šè¯ä¹¦å’Œç§é’¥çš„è·¯å¾„ã€‚
- `ssl_protocols`ï¼šæŒ‡å®šæ”¯æŒçš„ TLS ç‰ˆæœ¬ï¼ˆæ¨èä½¿ç”¨ TLSv1.2 å’Œ TLSv1.3ï¼‰ã€‚
- `ssl_ciphers`ï¼šæŒ‡å®šåŠ å¯†ç®—æ³•ã€‚

### 3. å¼ºåˆ¶ HTTPS é‡å®šå‘

ä¸ºäº†ç¡®ä¿æ‰€æœ‰æµé‡éƒ½é€šè¿‡ HTTPSï¼Œå¯ä»¥åœ¨ Nginx é…ç½®ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```nginx
server {
    listen 80;
    server_name yourdomain.com;
    return 301 https://$host$request_uri;
}
```

### 4. æµ‹è¯•å¹¶é‡å¯ Nginx

1. æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼š
   ```bash
   sudo nginx -t
   ```
2. é‡å¯ Nginx ä»¥åº”ç”¨æ›´æ”¹ï¼š
   ```bash
   sudo systemctl restart nginx
   ```

---

## å®é™…æ¡ˆä¾‹

å‡è®¾ä½ æœ‰ä¸€ä¸ªç½‘ç«™ `example.com`ï¼Œå¸Œæœ›é€šè¿‡ HTTPS æä¾›æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„ Nginx é…ç½®ï¼š

```nginx
server {
    listen 80;
    server_name example.com;
    return 301 https://$host$request_uri;
}

server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;

    location / {
        root /var/www/example;
        index index.html;
    }
}
```

---

## æ€»ç»“

é€šè¿‡æœ¬æ–‡ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•åœ¨ Nginx ä¸­é…ç½® SSL/TLSï¼ŒåŒ…æ‹¬è·å–è¯ä¹¦ã€ç¼–è¾‘é…ç½®æ–‡ä»¶ã€å¼ºåˆ¶ HTTPS é‡å®šå‘ä»¥åŠæµ‹è¯•å’Œé‡å¯ Nginxã€‚SSL/TLS æ˜¯ä¿æŠ¤ç½‘ç«™é€šä¿¡å®‰å…¨çš„å…³é”®æŠ€æœ¯ï¼Œå»ºè®®æ‰€æœ‰ç½‘ç«™éƒ½å¯ç”¨ HTTPSã€‚

---

## é™„åŠ èµ„æº

1. [Let's Encrypt å®˜æ–¹æ–‡æ¡£](https://letsencrypt.org/docs/)
2. [Nginx å®˜æ–¹æ–‡æ¡£](https://nginx.org/en/docs/)
3. [SSL/TLS åè®®è¯¦è§£](https://www.cloudflare.com/learning/ssl/what-is-ssl/)

---

## ç»ƒä¹ 

1. ä½¿ç”¨ Let's Encrypt ä¸ºä½ çš„ç½‘ç«™è·å– SSL è¯ä¹¦ã€‚
2. é…ç½® Nginx å¼ºåˆ¶ HTTPS é‡å®šå‘ã€‚
3. æµ‹è¯•ä½ çš„é…ç½®ï¼Œç¡®ä¿ç½‘ç«™é€šè¿‡ HTTPS è®¿é—®ã€‚

Happy coding! ğŸš€