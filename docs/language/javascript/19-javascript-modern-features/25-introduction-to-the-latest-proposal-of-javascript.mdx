---
title: JavaScript æœ€æ–°ææ¡ˆä»‹ç»
description: äº†è§£JavaScriptè¯­è¨€ä¸­æœ€æ–°çš„ææ¡ˆå’Œå³å°†åˆ°æ¥çš„ç‰¹æ€§ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯å‘å±•çš„æœ€æ–°åŠ¨æ€
---

# JavaScript æœ€æ–°ææ¡ˆä»‹ç»

## JavaScript è¯­è¨€çš„è¿›åŒ–å†ç¨‹

JavaScriptä½œä¸ºç½‘ç»œçš„é€šç”¨è¯­è¨€ï¼Œä¸€ç›´åœ¨ä¸æ–­å‘å±•å’Œè¿›åŒ–ã€‚TC39å§”å‘˜ä¼š(Technical Committee 39)è´Ÿè´£ç®¡ç†JavaScriptçš„æ ‡å‡†åŒ–è¿‡ç¨‹ï¼Œä»–ä»¬é€šè¿‡ä¸€ç³»åˆ—ææ¡ˆ(Proposals)æ¥æ¨åŠ¨è¯­è¨€çš„å‘å±•ã€‚

:::info TC39å§”å‘˜ä¼š
TC39æ˜¯ECMAå›½é™…ç»„ç»‡ä¸‹è´Ÿè´£JavaScript(ECMAScript)æ ‡å‡†åŒ–çš„æŠ€æœ¯å§”å‘˜ä¼šï¼Œç”±å„å¤§æµè§ˆå™¨å‚å•†ã€æŠ€æœ¯å…¬å¸å’Œç‹¬ç«‹ä¸“å®¶ç»„æˆã€‚
:::

## TC39ææ¡ˆæµç¨‹

æ¯ä¸ªJavaScriptæ–°ç‰¹æ€§å¿…é¡»ç»è¿‡ä¸¥æ ¼çš„å®¡æ ¸æµç¨‹æ‰èƒ½æˆä¸ºè¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚TC39ææ¡ˆæµç¨‹åˆ†ä¸º5ä¸ªé˜¶æ®µ:

```mermaid
graph LR
    A[é˜¶æ®µ0: Strawperson] --> B[é˜¶æ®µ1: Proposal]
    B --> C[é˜¶æ®µ2: Draft]
    C --> D[é˜¶æ®µ3: Candidate]
    D --> E[é˜¶æ®µ4: Finished]
    style E fill:#c9e9c9
```

- **Stage 0 (Strawperson)**: åˆæ­¥æƒ³æ³•ï¼Œå°šæœªæ­£å¼æäº¤
- **Stage 1 (Proposal)**: æ­£å¼ææ¡ˆï¼Œæå‡ºåˆæ­¥API
- **Stage 2 (Draft)**: åˆå§‹è§„èŒƒè‰æ¡ˆï¼Œé¢„è®¡å°†è¢«åŒ…å«åœ¨æ ‡å‡†ä¸­
- **Stage 3 (Candidate)**: å®Œæˆè§„èŒƒï¼Œç­‰å¾…å®ç°å’Œç”¨æˆ·åé¦ˆ
- **Stage 4 (Finished)**: å‡†å¤‡çº³å…¥ECMAScriptæ ‡å‡†çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬

## å€¼å¾—å…³æ³¨çš„JavaScriptæœ€æ–°ææ¡ˆ

è®©æˆ‘ä»¬çœ‹çœ‹ä¸€äº›æœ€ä»¤äººå…´å¥‹çš„ææ¡ˆï¼Œå®ƒä»¬å¾ˆå¯èƒ½åœ¨ä¸è¿œçš„å°†æ¥æˆä¸ºJavaScriptçš„ä¸€éƒ¨åˆ†ã€‚

### 1. ç®¡é“è¿ç®—ç¬¦ (Pipeline Operator) - Stage 2

ç®¡é“è¿ç®—ç¬¦ `|>` å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ä»£ç æ›´å…·å¯è¯»æ€§ã€‚

#### ç¤ºä¾‹:

```javascript
// ä¸ä½¿ç”¨ç®¡é“è¿ç®—ç¬¦
const result = h(g(f(x)));

// ä½¿ç”¨ç®¡é“è¿ç®—ç¬¦
const result = x |> f |> g |> h;

// ç­‰ä»·äº
const result = h(g(f(x)));
```

è¿™ä½¿å¾—ä»£ç é˜…è¯»é¡ºåºä¸æ‰§è¡Œé¡ºåºä¸€è‡´ï¼Œæ›´åŠ ç›´è§‚ã€‚

#### å®é™…åº”ç”¨åœºæ™¯:

å¤„ç†æ•°æ®è½¬æ¢é“¾æ—¶ç‰¹åˆ«æœ‰ç”¨:

```javascript
const getTopRatedBooks = books => 
  books
  |> filter(book => book.rating > 4)
  |> sort((a, b) => b.rating - a.rating)
  |> take(10)
  |> map(book => book.title);
```

### 2. Record & Tuple - Stage 2

Record & Tupleææ¡ˆå¼•å…¥äº†ä¸¤ç§æ–°çš„ä¸å¯å˜æ•°æ®ç»“æ„:

- `Record`(è®°å½•): ç±»ä¼¼äºä¸å¯å˜å¯¹è±¡ `#{}`
- `Tuple`(å…ƒç»„): ç±»ä¼¼äºä¸å¯å˜æ•°ç»„ `#[]`

#### ç¤ºä¾‹:

```javascript
// Record
const user = #{
  name: "Alice",
  age: 30
};

// Tuple
const coordinates = #[1, 2, 3];

// ä¸èƒ½ä¿®æ”¹å†…éƒ¨å±æ€§
user.age = 31; // é”™è¯¯!
coordinates[0] = 5; // é”™è¯¯!

// åˆ›å»ºæ–°å®ä¾‹
const updatedUser = #{...user, age: 31}; // æ­£ç¡®
```

#### å®é™…åº”ç”¨åœºæ™¯:

Recordå’ŒTupleåœ¨Reactç­‰éœ€è¦æ¯”è¾ƒæ•°æ®å˜åŒ–çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨:

```javascript
function ProfileCard(props) {
  // ä¸éœ€è¦æ·±æ¯”è¾ƒï¼Œç›´æ¥æ¯”è¾ƒå¼•ç”¨å³å¯
  React.useEffect(() => {
    // åªæœ‰å½“æ•°æ®çœŸæ­£å˜åŒ–æ—¶æ‰ä¼šæ‰§è¡Œ
    console.log("User data changed");
  }, [props.userData]); // userDataæ˜¯ä¸€ä¸ªRecord

  return <div>{props.userData.name}</div>;
}
```

### 3. å¯é€‰é“¾æ“ä½œç¬¦ (Optional Chaining) - å·²åŠ å…¥ES2020

:::note å·²å®ç°çš„ç‰¹æ€§
å¯é€‰é“¾æ“ä½œç¬¦å·²ç»åœ¨ES2020ä¸­è¢«æ ‡å‡†åŒ–ï¼Œç°ä»£æµè§ˆå™¨éƒ½å·²æ”¯æŒã€‚ä½†ä½œä¸ºè¿‘æœŸé‡è¦çš„è¯­è¨€ç‰¹æ€§ï¼Œæˆ‘ä»¬ä»ç„¶å°†å…¶çº³å…¥ä»‹ç»ã€‚
:::

å¯é€‰é“¾æ“ä½œç¬¦ `?.` å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚

#### ç¤ºä¾‹:

```javascript
// ä¼ ç»Ÿæ–¹å¼
let streetName;
if (user && user.address && user.address.street) {
  streetName = user.address.street.name;
}

// ä½¿ç”¨å¯é€‰é“¾
const streetName = user?.address?.street?.name;
```

è¿˜å¯ä»¥ä¸å‡½æ•°è°ƒç”¨å’Œæ•°ç»„ç´¢å¼•ä¸€èµ·ä½¿ç”¨:

```javascript
// å‡½æ•°è°ƒç”¨
const result = obj.method?.();

// æ•°ç»„ç´¢å¼•
const item = arr?.[0];
```

#### å®é™…åº”ç”¨åœºæ™¯:

å¤„ç†APIè¿”å›çš„åµŒå¥—æ•°æ®ç»“æ„:

```javascript
function displayUserLocation(user) {
  const city = user?.address?.city ?? "Unknown";
  const country = user?.address?.country ?? "Unknown";
  
  console.log(`User is from ${city}, ${country}`);
}
```

### 4. é¡¶å±‚await (Top-level await) - å·²åŠ å…¥ES2022

é¡¶å±‚awaitå…è®¸æˆ‘ä»¬åœ¨å¼‚æ­¥æ¨¡å—çš„é¡¶å±‚ä½¿ç”¨awaitå…³é”®å­—ï¼Œä¸éœ€è¦å°†å…¶åŒ…è£…åœ¨asyncå‡½æ•°ä¸­ã€‚

#### ç¤ºä¾‹:

```javascript
// åœ¨æ¨¡å—é¡¶å±‚ä½¿ç”¨await
import { data } from './data.js';

// ç­‰å¾…æ•°æ®åŠ è½½
const response = await fetch('https://api.example.com/data');
const serverData = await response.json();

// å°†æ•°æ®ä¸æœåŠ¡å™¨æ•°æ®åˆå¹¶
export const completeData = {...data, ...serverData};
```

#### å®é™…åº”ç”¨åœºæ™¯:

åŠ¨æ€åŠ è½½é…ç½®æˆ–èµ„æº:

```javascript
// config.js
const response = await fetch('/api/config');
const config = await response.json();

export default config;
```

ç„¶ååœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨:

```javascript
// app.js
import config from './config.js';

// è¿™é‡Œçš„ä»£ç åªä¼šåœ¨configåŠ è½½å®Œæˆåæ‰§è¡Œ
console.log(`App running with ${config.version}`);
```

### 5. è£…é¥°å™¨ (Decorators) - Stage 3

è£…é¥°å™¨æä¾›äº†ä¸€ç§å£°æ˜å¼çš„è¯­æ³•ï¼Œç”¨äºä¿®æ”¹ç±»å’Œç±»çš„æˆå‘˜ã€‚

#### ç¤ºä¾‹:

```javascript
// å®šä¹‰è£…é¥°å™¨
function logged(value, { kind, name }) {
  if (kind === "method") {
    return function(...args) {
      console.log(`Calling ${name} with`, args);
      const result = value.call(this, ...args);
      console.log(`Called ${name}, result:`, result);
      return result;
    };
  }
}

// ä½¿ç”¨è£…é¥°å™¨
class Person {
  @logged
  greet(message) {
    return `${message}, I'm ${this.name}`;
  }
  
  constructor(name) {
    this.name = name;
  }
}

const person = new Person("Alice");
person.greet("Hello"); 
// è¾“å‡º:
// Calling greet with ["Hello"]
// Called greet, result: "Hello, I'm Alice"
```

#### å®é™…åº”ç”¨åœºæ™¯:

è£…é¥°å™¨å¸¸ç”¨äºå®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œæ¯”å¦‚æ—¥å¿—è®°å½•ã€æƒé™æ£€æŸ¥ç­‰:

```javascript
class UserService {
  @authorize('admin')
  deleteUser(userId) {
    // åˆ é™¤ç”¨æˆ·çš„ä»£ç 
  }
  
  @measure
  computeStatistics() {
    // æ‰§è¡Œè€—æ—¶è®¡ç®—
  }
}
```

### 6. ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ (Nullish Coalescing) - å·²åŠ å…¥ES2020

ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ `??` æ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œå½“å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ– undefined æ—¶ï¼Œè¿”å›å³ä¾§çš„æ“ä½œæ•°ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„æ“ä½œæ•°ã€‚

#### ç¤ºä¾‹:

```javascript
// ä¼ ç»Ÿæ–¹å¼ä½¿ç”¨ || è¿ç®—ç¬¦
const name = username || "Guest";  // å½“ username ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ä¹Ÿä¼šè¿”å› "Guest"

// ä½¿ç”¨ ?? è¿ç®—ç¬¦
const name = username ?? "Guest";  // åªæœ‰å½“ username ä¸º null æˆ– undefined æ—¶æ‰è¿”å› "Guest"
```

#### å®é™…åº”ç”¨åœºæ™¯:

å½“å¤„ç†ç”¨æˆ·è¾“å…¥æˆ–APIè¿”å›å€¼æ—¶:

```javascript
function createUser(userData) {
  return {
    name: userData.name ?? "Anonymous",
    posts: userData.posts ?? [],
    preferences: {
      theme: userData.preferences?.theme ?? "light",
      fontSize: userData.preferences?.fontSize ?? "medium"
    }
  };
}
```

## å¦‚ä½•å°è¯•è¿™äº›ææ¡ˆ

è®¸å¤šæœ€æ–°çš„JavaScriptææ¡ˆå¯ä»¥é€šè¿‡Babelç­‰è½¬è¯‘å·¥å…·è¿›è¡Œå°è¯•:

```bash
# å®‰è£…BabelåŠç›¸å…³æ’ä»¶
npm install --save-dev @babel/core @babel/cli @babel/preset-env
npm install --save-dev @babel/plugin-proposal-pipeline-operator
```

é…ç½®Babel:

```javascript
// babel.config.js
module.exports = {
  presets: ["@babel/preset-env"],
  plugins: [
    ["@babel/plugin-proposal-pipeline-operator", { proposal: "minimal" }]
  ]
};
```

## å¯†åˆ‡å…³æ³¨JavaScriptçš„å‘å±•

è¦è·Ÿè¸ªJavaScriptææ¡ˆçš„æœ€æ–°è¿›å±•ï¼Œä½ å¯ä»¥:

1. å…³æ³¨[TC39 GitHubä»“åº“](https://github.com/tc39/proposals)
2. é˜…è¯»ç›¸å…³åšå®¢å’ŒæŠ€æœ¯ç½‘ç«™å¯¹æ–°ææ¡ˆçš„è§£æ
3. å°è¯•ä½¿ç”¨Babelç­‰å·¥å…·æå‰ä½“éªŒæ–°ç‰¹æ€§

## æ€»ç»“

JavaScriptä½œä¸ºä¸€é—¨æŒç»­å‘å±•çš„è¯­è¨€ï¼Œä¸æ–­é€šè¿‡æ–°ææ¡ˆå¼•å…¥ç°ä»£åŒ–ç‰¹æ€§ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿç¼–å†™æ›´ç®€æ´ã€æ›´å®‰å…¨ã€æ›´å…·è¡¨è¾¾åŠ›çš„ä»£ç ã€‚è™½ç„¶æœ‰äº›ææ¡ˆå¯èƒ½æœ€ç»ˆä¸ä¼šæˆä¸ºæ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä½†äº†è§£è¿™äº›ææ¡ˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ´å¯Ÿè¯­è¨€çš„å‘å±•æ–¹å‘ï¼Œå¹¶ä¸ºæœªæ¥çš„å˜åŒ–åšå¥½å‡†å¤‡ã€‚

:::tip ä¿æŒå­¦ä¹ 
JavaScriptç”Ÿæ€ç³»ç»Ÿå‘å±•è¿…é€Ÿã€‚ä½œä¸ºå¼€å‘è€…ï¼ŒæŒç»­å­¦ä¹ å’Œå®è·µæ–°ç‰¹æ€§æ˜¯ä¿æŒç«äº‰åŠ›çš„å…³é”®ã€‚
:::

## ç»ƒä¹ ä¸æŒ‘æˆ˜

1. å°è¯•ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶è¿ç®—ç¬¦é‡æ„ä¸€æ®µå¤æ‚çš„æ•°æ®è®¿é—®ä»£ç ã€‚
2. ä½¿ç”¨Babelé…ç½®ç®¡é“è¿ç®—ç¬¦ï¼Œå¹¶å°è¯•å°†ä¸€äº›åµŒå¥—å‡½æ•°è°ƒç”¨é‡å†™ä¸ºç®¡é“å½¢å¼ã€‚
3. æƒ³è±¡Recordå’ŒTupleè¢«æ­£å¼é‡‡çº³åï¼Œä½ çš„ä»£ç åº“ä¸­å“ªäº›éƒ¨åˆ†ä¼šå—ç›Šæœ€å¤§ï¼Ÿ
4. ç ”ç©¶ä¸€ä¸ªå¤„äºStage 1æˆ–Stage 2çš„ææ¡ˆï¼Œé¢„æµ‹å®ƒå¯èƒ½å¯¹ä½ çš„å¼€å‘å·¥ä½œå¸¦æ¥çš„å½±å“ã€‚

## æ‰©å±•é˜…è¯»

- [TC39 ææ¡ˆæµç¨‹](https://tc39.es/process-document/)
- [Babelæ–‡æ¡£ - å¦‚ä½•ä½¿ç”¨å®éªŒæ€§JavaScriptç‰¹æ€§](https://babeljs.io/docs/en/plugins/)
- [ç°ä»£JavaScriptæ•™ç¨‹](https://javascript.info/)

Happy coding! ğŸš€