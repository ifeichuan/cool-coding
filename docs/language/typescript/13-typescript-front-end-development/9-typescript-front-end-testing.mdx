---
title: TypeScript å‰ç«¯æµ‹è¯•
description: å­¦ä¹ å¦‚ä½•åœ¨TypeScriptå‰ç«¯å¼€å‘ä¸­ç¼–å†™å’Œè¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿ä»£ç çš„å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
---

# TypeScript å‰ç«¯æµ‹è¯•

åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œæµ‹è¯•æ˜¯ç¡®ä¿ä»£ç è´¨é‡å’ŒåŠŸèƒ½æ­£ç¡®æ€§çš„å…³é”®æ­¥éª¤ã€‚TypeScriptä½œä¸ºJavaScriptçš„è¶…é›†ï¼Œä¸ºå‰ç«¯å¼€å‘æä¾›äº†ç±»å‹å®‰å…¨å’Œæ›´å¥½çš„å·¥å…·æ”¯æŒã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨TypeScriptå‰ç«¯é¡¹ç›®ä¸­ç¼–å†™å’Œè¿è¡Œæµ‹è¯•ï¼Œå¸®åŠ©ä½ æ„å»ºæ›´å¯é çš„åº”ç”¨ç¨‹åºã€‚

## ä¸ºä»€ä¹ˆéœ€è¦å‰ç«¯æµ‹è¯•ï¼Ÿ

å‰ç«¯æµ‹è¯•çš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿ä»£ç åœ¨å„ç§æƒ…å†µä¸‹éƒ½èƒ½æŒ‰é¢„æœŸå·¥ä½œã€‚é€šè¿‡æµ‹è¯•ï¼Œä½ å¯ä»¥ï¼š

- æ•è·æ½œåœ¨çš„bugã€‚
- ç¡®ä¿ä»£ç æ›´æ”¹ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚
- æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚
- å¢å¼ºå¼€å‘è€…çš„ä¿¡å¿ƒï¼Œå°¤å…¶æ˜¯åœ¨é‡æ„æˆ–æ·»åŠ æ–°åŠŸèƒ½æ—¶ã€‚

## æµ‹è¯•ç±»å‹

åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå¸¸è§çš„æµ‹è¯•ç±»å‹åŒ…æ‹¬ï¼š

1. **å•å…ƒæµ‹è¯•ï¼ˆUnit Testingï¼‰**ï¼šæµ‹è¯•å•ä¸ªå‡½æ•°æˆ–ç»„ä»¶ã€‚
2. **é›†æˆæµ‹è¯•ï¼ˆIntegration Testingï¼‰**ï¼šæµ‹è¯•å¤šä¸ªç»„ä»¶æˆ–æ¨¡å—çš„äº¤äº’ã€‚
3. **ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆEnd-to-End Testingï¼‰**ï¼šæ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œæµ‹è¯•æ•´ä¸ªåº”ç”¨æµç¨‹ã€‚

æœ¬æ–‡å°†é‡ç‚¹ä»‹ç»å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚

## æµ‹è¯•å·¥å…·

åœ¨TypeScriptå‰ç«¯å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„æµ‹è¯•å·¥å…·åŒ…æ‹¬ï¼š

- **Jest**ï¼šä¸€ä¸ªæµè¡Œçš„JavaScriptæµ‹è¯•æ¡†æ¶ï¼Œæ”¯æŒTypeScriptã€‚
- **React Testing Library**ï¼šç”¨äºæµ‹è¯•Reactç»„ä»¶çš„å·¥å…·ã€‚
- **Cypress**ï¼šç”¨äºç«¯åˆ°ç«¯æµ‹è¯•çš„å·¥å…·ã€‚

### å®‰è£…Jest

é¦–å…ˆï¼Œå®‰è£…Jestå’Œç›¸å…³çš„TypeScriptæ”¯æŒåŒ…ï¼š

```bash
npm install --save-dev jest @types/jest ts-jest
```

æ¥ä¸‹æ¥ï¼Œé…ç½®Jestä»¥æ”¯æŒTypeScriptã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `jest.config.js` æ–‡ä»¶ï¼š

```javascript
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
};
```

## ç¼–å†™å•å…ƒæµ‹è¯•

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„TypeScriptå‡½æ•° `sum`ï¼Œç”¨äºè®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œï¼š

```typescript
// sum.ts
export function sum(a: number, b: number): number {
  return a + b;
}
```

æˆ‘ä»¬å¯ä»¥ä¸ºè¿™ä¸ªå‡½æ•°ç¼–å†™ä¸€ä¸ªå•å…ƒæµ‹è¯•ï¼š

```typescript
// sum.test.ts
import { sum } from './sum';

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

è¿è¡Œæµ‹è¯•ï¼š

```bash
npx jest
```

å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥ä¼šçœ‹åˆ°æµ‹è¯•é€šè¿‡çš„æç¤ºã€‚

## æµ‹è¯•Reactç»„ä»¶

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„Reactç»„ä»¶ `Greeting`ï¼š

```typescript
// Greeting.tsx
import React from 'react';

export function Greeting({ name }: { name: string }) {
  return <h1>Hello, {name}!</h1>;
}
```

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨React Testing Libraryæ¥æµ‹è¯•è¿™ä¸ªç»„ä»¶ï¼š

```typescript
// Greeting.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import { Greeting } from './Greeting';

test('renders greeting message', () => {
  render(<Greeting name="World" />);
  const greetingElement = screen.getByText(/Hello, World!/i);
  expect(greetingElement).toBeInTheDocument();
});
```

è¿è¡Œæµ‹è¯•ï¼š

```bash
npx jest
```

## å®é™…æ¡ˆä¾‹

å‡è®¾æˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª `TodoItem` ç»„ä»¶ï¼š

```typescript
// TodoItem.tsx
import React from 'react';

export function TodoItem({ text, completed }: { text: string; completed: boolean }) {
  return (
    <li style={{ textDecoration: completed ? 'line-through' : 'none' }}>
      {text}
    </li>
  );
}
```

æˆ‘ä»¬å¯ä»¥ä¸ºè¿™ä¸ªç»„ä»¶ç¼–å†™æµ‹è¯•ï¼Œç¡®ä¿å®ƒåœ¨ä¸åŒçŠ¶æ€ä¸‹æ­£ç¡®æ¸²æŸ“ï¼š

```typescript
// TodoItem.test.tsx
import React from 'react';
import { render, screen } from '@testing-library/react';
import { TodoItem } from './TodoItem';

test('renders incomplete todo item', () => {
  render(<TodoItem text="Learn TypeScript" completed={false} />);
  const todoElement = screen.getByText(/Learn TypeScript/i);
  expect(todoElement).toHaveStyle('text-decoration: none');
});

test('renders completed todo item', () => {
  render(<TodoItem text="Learn TypeScript" completed={true} />);
  const todoElement = screen.getByText(/Learn TypeScript/i);
  expect(todoElement).toHaveStyle('text-decoration: line-through');
});
```

## æ€»ç»“

é€šè¿‡æœ¬æ–‡ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•åœ¨TypeScriptå‰ç«¯é¡¹ç›®ä¸­ç¼–å†™å’Œè¿è¡Œæµ‹è¯•ã€‚æˆ‘ä»¬ä»‹ç»äº†å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•çš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶ä½¿ç”¨Jestå’ŒReact Testing Libraryç¼–å†™äº†æµ‹è¯•ç”¨ä¾‹ã€‚æµ‹è¯•æ˜¯ç¡®ä¿ä»£ç è´¨é‡çš„é‡è¦æ‰‹æ®µï¼Œå¸Œæœ›ä½ èƒ½åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ã€‚

## é™„åŠ èµ„æº

- [Jestå®˜æ–¹æ–‡æ¡£](https://jestjs.io/docs/getting-started)
- [React Testing Libraryå®˜æ–¹æ–‡æ¡£](https://testing-library.com/docs/react-testing-library/intro/)
- [TypeScriptå®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/docs/)

## ç»ƒä¹ 

1. ä¸ºä½ çš„é¡¹ç›®ä¸­çš„ä¸€ä¸ªå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•ã€‚
2. ä½¿ç”¨React Testing Libraryæµ‹è¯•ä¸€ä¸ªReactç»„ä»¶ã€‚
3. å°è¯•ä¸ºä½ çš„é¡¹ç›®æ·»åŠ é›†æˆæµ‹è¯•ã€‚

Happy testing! ğŸš€