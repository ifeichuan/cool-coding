---
title: Kubernetes äº‹ä»¶é©±åŠ¨
description: äº†è§£ Kubernetes ä¸­çš„äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œæ¢ç´¢å¦‚ä½•é€šè¿‡äº‹ä»¶è§¦å‘æ— æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ï¼Œå¹¶æŒæ¡å…¶å®é™…åº”ç”¨åœºæ™¯ã€‚
---

# Kubernetes äº‹ä»¶é©±åŠ¨

åœ¨ç°ä»£äº‘åŸç”Ÿåº”ç”¨ä¸­ï¼Œäº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆEvent-Driven Architecture, EDAï¼‰æ­£å˜å¾—è¶Šæ¥è¶Šæµè¡Œã€‚å®ƒå…è®¸ç³»ç»Ÿé€šè¿‡äº‹ä»¶ï¼ˆå¦‚æ¶ˆæ¯ã€çŠ¶æ€å˜åŒ–æˆ–å¤–éƒ¨è§¦å‘å™¨ï¼‰æ¥é©±åŠ¨å·¥ä½œæµçš„æ‰§è¡Œã€‚Kubernetes ä½œä¸ºå®¹å™¨ç¼–æ’çš„äº‹å®æ ‡å‡†ï¼Œä¹Ÿæ”¯æŒäº‹ä»¶é©±åŠ¨çš„æ— æœåŠ¡å™¨å·¥ä½œè´Ÿè½½ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥äº†è§£ Kubernetes ä¸­çš„äº‹ä»¶é©±åŠ¨æ¦‚å¿µï¼Œå¹¶é€šè¿‡å®é™…æ¡ˆä¾‹å±•ç¤ºå…¶åº”ç”¨ã€‚

---

## ä»€ä¹ˆæ˜¯äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Ÿ

äº‹ä»¶é©±åŠ¨æ¶æ„æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå…¶ä¸­ç³»ç»Ÿçš„è¡Œä¸ºç”±äº‹ä»¶è§¦å‘ã€‚äº‹ä»¶å¯ä»¥æ˜¯ç”¨æˆ·æ“ä½œã€ç³»ç»ŸçŠ¶æ€å˜åŒ–ã€å¤–éƒ¨æœåŠ¡è°ƒç”¨ç­‰ã€‚åœ¨ Kubernetes ä¸­ï¼Œäº‹ä»¶é©±åŠ¨é€šå¸¸ä¸æ— æœåŠ¡å™¨ï¼ˆServerlessï¼‰æ¶æ„ç»“åˆä½¿ç”¨ï¼Œå…è®¸å¼€å‘è€…åœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶è‡ªåŠ¨æ‰§è¡Œä»£ç ï¼Œè€Œæ— éœ€ç®¡ç†åº•å±‚åŸºç¡€è®¾æ–½ã€‚

:::tip
äº‹ä»¶é©±åŠ¨æ¶æ„çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œå“åº”å¼ç¼–ç¨‹â€ï¼Œå³ç³»ç»Ÿå¯¹äº‹ä»¶ä½œå‡ºååº”ï¼Œè€Œä¸æ˜¯ä¸»åŠ¨è½®è¯¢æˆ–ç­‰å¾…ã€‚
:::

---

## Kubernetes ä¸­çš„äº‹ä»¶é©±åŠ¨

Kubernetes æœ¬èº«æ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œå½“ Pod çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ˆå¦‚åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤ï¼‰æ—¶ï¼ŒKubernetes ä¼šç”Ÿæˆç›¸åº”çš„äº‹ä»¶ã€‚è¿™äº›äº‹ä»¶å¯ä»¥è¢«å…¶ä»–ç»„ä»¶ï¼ˆå¦‚æ§åˆ¶å™¨æˆ–è‡ªå®šä¹‰è„šæœ¬ï¼‰æ•è·å¹¶å¤„ç†ã€‚

### Kubernetes äº‹ä»¶æº

Kubernetes ä¸­çš„äº‹ä»¶æºå¯ä»¥æ˜¯ï¼š
- **Pod çŠ¶æ€å˜åŒ–**ï¼šå¦‚ Pod å¯åŠ¨ã€ç»ˆæ­¢æˆ–å¤±è´¥ã€‚
- **èµ„æºæ›´æ–°**ï¼šå¦‚ Deployment çš„å‰¯æœ¬æ•°å˜åŒ–ã€‚
- **è‡ªå®šä¹‰äº‹ä»¶**ï¼šé€šè¿‡ Kubernetes API æ‰‹åŠ¨è§¦å‘çš„äº‹ä»¶ã€‚

---

## å¦‚ä½•å®ç° Kubernetes äº‹ä»¶é©±åŠ¨ï¼Ÿ

åœ¨ Kubernetes ä¸­ï¼Œäº‹ä»¶é©±åŠ¨é€šå¸¸é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š
1. **ä½¿ç”¨ Kubernetes API ç›‘å¬äº‹ä»¶**ï¼šé€šè¿‡ `kubectl get events` æˆ–ç¼–ç¨‹æ–¹å¼ï¼ˆå¦‚ä½¿ç”¨ Kubernetes å®¢æˆ·ç«¯åº“ï¼‰ç›‘å¬äº‹ä»¶ã€‚
2. **ç»“åˆæ— æœåŠ¡å™¨æ¡†æ¶**ï¼šå¦‚ Knative æˆ– Kubelessï¼Œè¿™äº›æ¡†æ¶å…è®¸ä½ å®šä¹‰äº‹ä»¶è§¦å‘çš„å·¥ä½œè´Ÿè½½ã€‚

### ç¤ºä¾‹ï¼šä½¿ç”¨ Knative å®ç°äº‹ä»¶é©±åŠ¨

Knative æ˜¯ä¸€ä¸ªæµè¡Œçš„ Kubernetes æ— æœåŠ¡å™¨æ¡†æ¶ï¼Œæ”¯æŒäº‹ä»¶é©±åŠ¨çš„å·¥ä½œè´Ÿè½½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Knative åˆ›å»ºä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„æœåŠ¡ã€‚

#### 1. å®‰è£… Knative
é¦–å…ˆï¼Œç¡®ä¿ä½ çš„ Kubernetes é›†ç¾¤å·²å®‰è£… Knativeã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£… Knative Serving å’Œ Eventing ç»„ä»¶ï¼š

```bash
kubectl apply -f https://github.com/knative/serving/releases/download/knative-v1.0.0/serving-crds.yaml
kubectl apply -f https://github.com/knative/serving/releases/download/knative-v1.0.0/serving-core.yaml
kubectl apply -f https://github.com/knative/eventing/releases/download/knative-v1.0.0/eventing-crds.yaml
kubectl apply -f https://github.com/knative/eventing/releases/download/knative-v1.0.0/eventing-core.yaml
```

#### 2. åˆ›å»ºäº‹ä»¶é©±åŠ¨çš„æœåŠ¡
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Knative æœåŠ¡å®šä¹‰ï¼Œå½“æ¥æ”¶åˆ° HTTP è¯·æ±‚æ—¶è§¦å‘ï¼š

```yaml
apiVersion: serving.knative.dev/v1
kind: Service
metadata:
  name: event-driven-service
spec:
  template:
    spec:
      containers:
        - image: gcr.io/knative-samples/helloworld-go
          env:
            - name: TARGET
              value: "World"
```

#### 3. è§¦å‘äº‹ä»¶
é€šè¿‡å‘é€ HTTP è¯·æ±‚è§¦å‘æœåŠ¡ï¼š

```bash
curl http://event-driven-service.default.example.com
```

#### 4. æŸ¥çœ‹è¾“å‡º
æœåŠ¡ä¼šè¿”å›ä»¥ä¸‹å“åº”ï¼š

```plaintext
Hello World!
```

---

## å®é™…åº”ç”¨åœºæ™¯

äº‹ä»¶é©±åŠ¨æ¶æ„åœ¨ä»¥ä¸‹åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼š
1. **è‡ªåŠ¨åŒ– CI/CD æµæ°´çº¿**ï¼šå½“ä»£ç æäº¤åˆ° Git ä»“åº“æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æ„å»ºå’Œéƒ¨ç½²ã€‚
2. **å®æ—¶æ•°æ®å¤„ç†**ï¼šå½“æ–°æ•°æ®åˆ°è¾¾æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Kafkaï¼‰æ—¶ï¼Œè§¦å‘æ•°æ®å¤„ç†ä»»åŠ¡ã€‚
3. **ç›‘æ§å’Œå‘Šè­¦**ï¼šå½“ç³»ç»ŸæŒ‡æ ‡è¶…å‡ºé˜ˆå€¼æ—¶ï¼Œè§¦å‘å‘Šè­¦æˆ–è‡ªåŠ¨ä¿®å¤æ“ä½œã€‚

---

## æ€»ç»“

Kubernetes äº‹ä»¶é©±åŠ¨æ¶æ„ä¸ºæ„å»ºå“åº”å¼ã€æ— æœåŠ¡å™¨çš„åº”ç”¨æä¾›äº†å¼ºå¤§çš„æ”¯æŒã€‚é€šè¿‡ç»“åˆ Knative ç­‰æ— æœåŠ¡å™¨æ¡†æ¶ï¼Œä½ å¯ä»¥è½»æ¾å®ç°äº‹ä»¶è§¦å‘çš„å·¥ä½œè´Ÿè½½ï¼Œä»è€Œæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„äº‘åŸç”Ÿåº”ç”¨ã€‚

:::note
å¦‚æœä½ æƒ³è¿›ä¸€æ­¥å­¦ä¹ ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹èµ„æºï¼š
- [Knative å®˜æ–¹æ–‡æ¡£](https://knative.dev/docs/)
- [Kubernetes äº‹ä»¶é©±åŠ¨è®¾è®¡æ¨¡å¼](https://kubernetes.io/docs/concepts/architecture/event-driven/)
:::

---

## ç»ƒä¹ 

1. åœ¨ä½ çš„ Kubernetes é›†ç¾¤ä¸­å®‰è£… Knativeï¼Œå¹¶å°è¯•åˆ›å»ºä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„æœåŠ¡ã€‚
2. ä½¿ç”¨ `kubectl get events` å‘½ä»¤è§‚å¯Ÿ Kubernetes ä¸­çš„äº‹ä»¶æµã€‚
3. å°è¯•å°†äº‹ä»¶é©±åŠ¨ä¸ CI/CD å·¥å…·ï¼ˆå¦‚ Jenkins æˆ– ArgoCDï¼‰é›†æˆï¼Œå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚

Happy Coding! ğŸš€