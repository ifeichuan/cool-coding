---
title: Jenkins ç¯å¢ƒé…ç½®ç®¡ç†
description: äº†è§£å¦‚ä½•é…ç½®å’Œç®¡ç†Jenkinsç¯å¢ƒï¼Œç¡®ä¿CI/CDæµç¨‹çš„ç¨³å®šæ€§å’Œå¯é‡å¤æ€§ã€‚æœ¬æ–‡é€‚åˆåˆå­¦è€…ï¼Œæ¶µç›–ç¯å¢ƒå˜é‡ã€å·¥å…·é…ç½®ã€æ’ä»¶ç®¡ç†ç­‰å…³é”®å†…å®¹ã€‚
---

# Jenkins ç¯å¢ƒé…ç½®ç®¡ç†

Jenkinsæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰å·¥å…·ï¼Œå¹¿æ³›åº”ç”¨äºè½¯ä»¶å¼€å‘ä¸­ã€‚ä¸ºäº†ç¡®ä¿Jenkinsèƒ½å¤Ÿé«˜æ•ˆè¿è¡Œå¹¶æ”¯æŒå¤šæ ·åŒ–çš„é¡¹ç›®éœ€æ±‚ï¼Œç¯å¢ƒé…ç½®ç®¡ç†æ˜¯è‡³å…³é‡è¦çš„ä¸€ç¯ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½®å’Œç®¡ç†Jenkinsç¯å¢ƒï¼Œå¸®åŠ©åˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ã€‚

## ä»€ä¹ˆæ˜¯Jenkinsç¯å¢ƒé…ç½®ç®¡ç†ï¼Ÿ

Jenkinsç¯å¢ƒé…ç½®ç®¡ç†æ˜¯æŒ‡é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ã€å®‰è£…æ’ä»¶ã€é…ç½®å·¥å…·ç­‰æ–¹å¼ï¼Œç¡®ä¿Jenkinsèƒ½å¤Ÿé€‚åº”ä¸åŒçš„é¡¹ç›®éœ€æ±‚ã€‚è‰¯å¥½çš„ç¯å¢ƒé…ç½®å¯ä»¥æé«˜æ„å»ºçš„ç¨³å®šæ€§ã€å¯é‡å¤æ€§å’Œæ•ˆç‡ã€‚

## ç¯å¢ƒå˜é‡é…ç½®

ç¯å¢ƒå˜é‡æ˜¯Jenkinsé…ç½®ç®¡ç†çš„åŸºç¡€ã€‚å®ƒä»¬å¯ä»¥ç”¨äºå­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚APIå¯†é’¥ï¼‰ã€å®šä¹‰è·¯å¾„æˆ–é…ç½®æ„å»ºå‚æ•°ã€‚

### å…¨å±€ç¯å¢ƒå˜é‡

å…¨å±€ç¯å¢ƒå˜é‡é€‚ç”¨äºæ‰€æœ‰Jenkinsä»»åŠ¡ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼š

1. ç™»å½•Jenkinsæ§åˆ¶å°ã€‚
2. å¯¼èˆªåˆ° **Manage Jenkins > Configure System**ã€‚
3. åœ¨ **Global properties** éƒ¨åˆ†ï¼Œå‹¾é€‰ **Environment variables**ã€‚
4. æ·»åŠ æ‰€éœ€çš„å˜é‡ï¼Œä¾‹å¦‚ï¼š
   - `JAVA_HOME=/usr/lib/jvm/java-11-openjdk`
   - `PATH=$PATH:/usr/local/bin`

:::note
å…¨å±€ç¯å¢ƒå˜é‡å¯¹æ‰€æœ‰ä»»åŠ¡ç”Ÿæ•ˆï¼Œè¯·è°¨æ…é…ç½®æ•æ„Ÿä¿¡æ¯ã€‚
:::

### ä»»åŠ¡çº§ç¯å¢ƒå˜é‡

ä»»åŠ¡çº§ç¯å¢ƒå˜é‡ä»…é€‚ç”¨äºç‰¹å®šä»»åŠ¡ã€‚ä½ å¯ä»¥åœ¨ä»»åŠ¡é…ç½®é¡µé¢çš„ **Build Environment** éƒ¨åˆ†æ·»åŠ å˜é‡ã€‚

```groovy
pipeline {
    agent any
    environment {
        APP_VERSION = '1.0.0'
        BUILD_NUMBER = "${env.BUILD_ID}"
    }
    stages {
        stage('Build') {
            steps {
                echo "Building version ${APP_VERSION}"
            }
        }
    }
}
```

## å·¥å…·é…ç½®

Jenkinsæ”¯æŒå¤šç§å¼€å‘å·¥å…·ï¼ˆå¦‚JDKã€Mavenã€Gitç­‰ï¼‰ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤é…ç½®å·¥å…·ï¼š

1. å¯¼èˆªåˆ° **Manage Jenkins > Global Tool Configuration**ã€‚
2. åœ¨ **JDK** éƒ¨åˆ†ï¼Œæ·»åŠ JDKå®‰è£…è·¯å¾„ã€‚
3. åœ¨ **Maven** éƒ¨åˆ†ï¼Œé…ç½®Mavenç‰ˆæœ¬å’Œè·¯å¾„ã€‚
4. ä¿å­˜é…ç½®ã€‚

:::tip
ç¡®ä¿å·¥å…·è·¯å¾„æ­£ç¡®ï¼Œå¦åˆ™æ„å»ºä»»åŠ¡å¯èƒ½ä¼šå¤±è´¥ã€‚
:::

## æ’ä»¶ç®¡ç†

æ’ä»¶æ˜¯Jenkinsæ‰©å±•åŠŸèƒ½çš„æ ¸å¿ƒã€‚é€šè¿‡å®‰è£…å’Œç®¡ç†æ’ä»¶ï¼Œä½ å¯ä»¥å¢å¼ºJenkinsçš„åŠŸèƒ½ã€‚

### å®‰è£…æ’ä»¶

1. å¯¼èˆªåˆ° **Manage Jenkins > Manage Plugins**ã€‚
2. åœ¨ **Available** é€‰é¡¹å¡ä¸­æœç´¢æ‰€éœ€æ’ä»¶ï¼ˆå¦‚ `Git`ã€`Pipeline`ï¼‰ã€‚
3. å‹¾é€‰æ’ä»¶å¹¶ç‚¹å‡» **Install without restart**ã€‚

### æ›´æ–°æ’ä»¶

å®šæœŸæ›´æ–°æ’ä»¶å¯ä»¥ä¿®å¤æ¼æ´å¹¶è·å–æ–°åŠŸèƒ½ã€‚åœ¨ **Installed** é€‰é¡¹å¡ä¸­ï¼Œç‚¹å‡» **Check now** æŸ¥çœ‹å¯ç”¨æ›´æ–°ã€‚

:::caution
æ›´æ–°æ’ä»¶å‰ï¼Œè¯·ç¡®ä¿å¤‡ä»½Jenkinsé…ç½®ï¼Œä»¥é˜²ä¸å…¼å®¹é—®é¢˜ã€‚
:::

## å®é™…æ¡ˆä¾‹ï¼šé…ç½®Javaé¡¹ç›®æ„å»ºç¯å¢ƒ

å‡è®¾ä½ éœ€è¦ä¸ºä¸€ä¸ªJavaé¡¹ç›®é…ç½®Jenkinsç¯å¢ƒï¼Œä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š

1. **å®‰è£…JDK**ï¼šåœ¨ **Global Tool Configuration** ä¸­é…ç½®JDKè·¯å¾„ã€‚
2. **å®‰è£…Maven**ï¼šé…ç½®Mavenè·¯å¾„ä»¥æ”¯æŒé¡¹ç›®æ„å»ºã€‚
3. **é…ç½®Git**ï¼šå®‰è£…Gitæ’ä»¶å¹¶é…ç½®ä»“åº“åœ°å€ã€‚
4. **è®¾ç½®ç¯å¢ƒå˜é‡**ï¼šå®šä¹‰ `JAVA_HOME` å’Œ `MAVEN_HOME`ã€‚
5. **åˆ›å»ºPipelineä»»åŠ¡**ï¼šä½¿ç”¨ä»¥ä¸‹Pipelineè„šæœ¬ï¼š

```groovy
pipeline {
    agent any
    tools {
        jdk 'jdk11'
        maven 'maven3'
    }
    stages {
        stage('Checkout') {
            steps {
                git 'https://github.com/your-repo/java-project.git'
            }
        }
        stage('Build') {
            steps {
                sh 'mvn clean package'
            }
        }
    }
}
```

## æ€»ç»“

Jenkinsç¯å¢ƒé…ç½®ç®¡ç†æ˜¯ç¡®ä¿CI/CDæµç¨‹é«˜æ•ˆè¿è¡Œçš„å…³é”®ã€‚é€šè¿‡åˆç†é…ç½®ç¯å¢ƒå˜é‡ã€å·¥å…·å’Œæ’ä»¶ï¼Œä½ å¯ä»¥ä¸ºé¡¹ç›®æä¾›ç¨³å®šä¸”å¯é‡å¤çš„æ„å»ºç¯å¢ƒã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ å¿«é€ŸæŒæ¡Jenkinsç¯å¢ƒé…ç½®çš„åŸºç¡€çŸ¥è¯†ã€‚

## é™„åŠ èµ„æº

- [Jenkinså®˜æ–¹æ–‡æ¡£](https://www.jenkins.io/doc/)
- [Jenkins Pipelineè¯­æ³•æŒ‡å—](https://www.jenkins.io/doc/book/pipeline/syntax/)
- [Jenkinsæ’ä»¶ä¸­å¿ƒ](https://plugins.jenkins.io/)

## ç»ƒä¹ 

1. åœ¨Jenkinsä¸­é…ç½®ä¸€ä¸ªå…¨å±€ç¯å¢ƒå˜é‡ `APP_NAME`ï¼Œå¹¶åœ¨Pipelineä»»åŠ¡ä¸­æ‰“å°è¯¥å˜é‡ã€‚
2. å®‰è£… `Docker` æ’ä»¶ï¼Œå¹¶å°è¯•åœ¨Pipelineä¸­ä½¿ç”¨Dockeræ„å»ºé•œåƒã€‚
3. åˆ›å»ºä¸€ä¸ªæ–°çš„Mavené¡¹ç›®ï¼Œå¹¶é…ç½®Jenkinsä»»åŠ¡ä»¥æ”¯æŒè‡ªåŠ¨æ„å»ºã€‚

Happy coding! ğŸš€