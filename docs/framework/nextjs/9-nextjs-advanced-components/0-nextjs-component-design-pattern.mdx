---
title: Next.js ç»„ä»¶è®¾è®¡æ¨¡å¼
description: äº†è§£ Next.js ä¸­çš„é«˜çº§ç»„ä»¶è®¾è®¡æ¨¡å¼ï¼ŒæŒæ¡å¦‚ä½•æ„å»ºå¯å¤ç”¨ã€å¯ç»´æŠ¤çš„ç»„ä»¶ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚
---

# Next.js ç»„ä»¶è®¾è®¡æ¨¡å¼

åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼Œç»„ä»¶åŒ–æ˜¯æ„å»ºå¤æ‚åº”ç”¨çš„æ ¸å¿ƒæ€æƒ³ã€‚Next.js ä½œä¸º React çš„æ¡†æ¶ï¼Œæä¾›äº†å¼ºå¤§çš„å·¥å…·å’Œæ¨¡å¼æ¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡é«˜æ•ˆã€å¯å¤ç”¨çš„ç»„ä»¶ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Next.js ä¸­çš„ç»„ä»¶è®¾è®¡æ¨¡å¼ï¼Œå¸®åŠ©ä½ ä»åˆå­¦è€…è¿›é˜¶ä¸ºé«˜çº§å¼€å‘è€…ã€‚

---

## ä»€ä¹ˆæ˜¯ç»„ä»¶è®¾è®¡æ¨¡å¼ï¼Ÿ

ç»„ä»¶è®¾è®¡æ¨¡å¼æ˜¯æŒ‡åœ¨æ„å»º React ç»„ä»¶æ—¶ï¼Œé‡‡ç”¨çš„ä¸€ç³»åˆ—æœ€ä½³å®è·µå’Œæ¶æ„æ¨¡å¼ã€‚è¿™äº›æ¨¡å¼æ—¨åœ¨æé«˜ç»„ä»¶çš„å¯å¤ç”¨æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚åœ¨ Next.js ä¸­ï¼Œç»„ä»¶è®¾è®¡æ¨¡å¼å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºå®ƒç›´æ¥å½±å“åˆ°åº”ç”¨çš„æ¸²æŸ“æ€§èƒ½ã€SEO å’Œç”¨æˆ·ä½“éªŒã€‚

---

## å¸¸è§çš„ Next.js ç»„ä»¶è®¾è®¡æ¨¡å¼

ä»¥ä¸‹æ˜¯ Next.js ä¸­å¸¸è§çš„ç»„ä»¶è®¾è®¡æ¨¡å¼ï¼š

### 1. å®¹å™¨ä¸å±•ç¤ºç»„ä»¶æ¨¡å¼ï¼ˆContainer/Presentational Patternï¼‰

è¿™æ˜¯ React ä¸­æœ€ç»å…¸çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚å®¹å™¨ç»„ä»¶è´Ÿè´£å¤„ç†é€»è¾‘å’Œæ•°æ®ï¼Œè€Œå±•ç¤ºç»„ä»¶åˆ™ä¸“æ³¨äº UI æ¸²æŸ“ã€‚

#### ç¤ºä¾‹ä»£ç 

```jsx
// Container Component
import { useState, useEffect } from 'react';
import UserList from './UserList';

const UserContainer = () => {
  const [users, setUsers] = useState([]);

  useEffect(() => {
    fetch('/api/users')
      .then((res) => res.json())
      .then((data) => setUsers(data));
  }, []);

  return <UserList users={users} />;
};

export default UserContainer;
```

```jsx
// Presentational Component
const UserList = ({ users }) => {
  return (
    <ul>
      {users.map((user) => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
};

export default UserList;
```

#### ä¼˜ç‚¹
- é€»è¾‘ä¸ UI åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤ã€‚
- å±•ç¤ºç»„ä»¶å¯ä»¥å¤ç”¨ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚

---

### 2. é«˜é˜¶ç»„ä»¶æ¨¡å¼ï¼ˆHigher-Order Components, HOCï¼‰

é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç»„ä»¶å¹¶è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚HOC é€šå¸¸ç”¨äºå…±äº«é€»è¾‘æˆ–å¢å¼ºç»„ä»¶åŠŸèƒ½ã€‚

#### ç¤ºä¾‹ä»£ç 

```jsx
// HOC
const withLoading = (WrappedComponent) => {
  return (props) => {
    const [isLoading, setIsLoading] = useState(true);

    useEffect(() => {
      setTimeout(() => setIsLoading(false), 2000);
    }, []);

    return isLoading ? <div>Loading...</div> : <WrappedComponent {...props} />;
  };
};

export default withLoading;
```

```jsx
// ä½¿ç”¨ HOC
import withLoading from './withLoading';

const UserProfile = ({ user }) => {
  return <div>{user.name}</div>;
};

export default withLoading(UserProfile);
```

#### ä¼˜ç‚¹
- é€»è¾‘å¤ç”¨ï¼Œå‡å°‘ä»£ç é‡å¤ã€‚
- å¯ä»¥åŠ¨æ€å¢å¼ºç»„ä»¶åŠŸèƒ½ã€‚

---

### 3. æ¸²æŸ“å±æ€§æ¨¡å¼ï¼ˆRender Props Patternï¼‰

æ¸²æŸ“å±æ€§æ¨¡å¼é€šè¿‡å°†å‡½æ•°ä½œä¸ºç»„ä»¶çš„å±æ€§ä¼ é€’ï¼Œæ¥å®ç°é€»è¾‘å…±äº«ã€‚

#### ç¤ºä¾‹ä»£ç 

```jsx
// Render Props Component
const DataFetcher = ({ url, render }) => {
  const [data, setData] = useState(null);

  useEffect(() => {
    fetch(url)
      .then((res) => res.json())
      .then((data) => setData(data));
  }, [url]);

  return render(data);
};

export default DataFetcher;
```

```jsx
// ä½¿ç”¨ Render Props
import DataFetcher from './DataFetcher';

const App = () => {
  return (
    <DataFetcher
      url="/api/users"
      render={(data) => (
        <ul>
          {data?.map((user) => (
            <li key={user.id}>{user.name}</li>
          ))}
        </ul>
      )}
    />
  );
};

export default App;
```

#### ä¼˜ç‚¹
- çµæ´»æ€§å¼ºï¼Œå¯ä»¥åŠ¨æ€å®šä¹‰æ¸²æŸ“é€»è¾‘ã€‚
- é€»è¾‘ä¸ UI åˆ†ç¦»ï¼Œæ˜“äºæµ‹è¯•ã€‚

---

### 4. å¤åˆç»„ä»¶æ¨¡å¼ï¼ˆCompound Components Patternï¼‰

å¤åˆç»„ä»¶æ¨¡å¼é€šè¿‡å°†å¤šä¸ªç»„ä»¶ç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç»„ä»¶ã€‚

#### ç¤ºä¾‹ä»£ç 

```jsx
// Compound Components
const Tabs = ({ children }) => {
  const [activeIndex, setActiveIndex] = useState(0);

  return React.Children.map(children, (child, index) =>
    React.cloneElement(child, {
      isActive: index === activeIndex,
      onClick: () => setActiveIndex(index),
    })
  );
};

const Tab = ({ isActive, onClick, children }) => {
  return (
    <button
      style={{ fontWeight: isActive ? 'bold' : 'normal' }}
      onClick={onClick}
    >
      {children}
    </button>
  );
};

export { Tabs, Tab };
```

```jsx
// ä½¿ç”¨ Compound Components
import { Tabs, Tab } from './Tabs';

const App = () => {
  return (
    <Tabs>
      <Tab>Tab 1</Tab>
      <Tab>Tab 2</Tab>
      <Tab>Tab 3</Tab>
    </Tabs>
  );
};

export default App;
```

#### ä¼˜ç‚¹
- ç»„ä»¶ä¹‹é—´é«˜åº¦è§£è€¦ã€‚
- æä¾›æ›´ç›´è§‚çš„ APIï¼Œæ˜“äºä½¿ç”¨ã€‚

---

## å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šæ„å»ºå¯å¤ç”¨çš„è¡¨å•ç»„ä»¶

åœ¨ Next.js åº”ç”¨ä¸­ï¼Œè¡¨å•æ˜¯å¸¸è§çš„éœ€æ±‚ã€‚é€šè¿‡å®¹å™¨ä¸å±•ç¤ºç»„ä»¶æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¡¨å•é€»è¾‘ä¸ UI åˆ†ç¦»ï¼Œæ„å»ºå¯å¤ç”¨çš„è¡¨å•ç»„ä»¶ã€‚

```jsx
// FormContainer.js
import { useState } from 'react';
import Form from './Form';

const FormContainer = () => {
  const [formData, setFormData] = useState({});

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log('Form Data:', formData);
  };

  return <Form formData={formData} setFormData={setFormData} onSubmit={handleSubmit} />;
};

export default FormContainer;
```

```jsx
// Form.js
const Form = ({ formData, setFormData, onSubmit }) => {
  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
  };

  return (
    <form onSubmit={onSubmit}>
      <input name="name" value={formData.name || ''} onChange={handleChange} />
      <input name="email" value={formData.email || ''} onChange={handleChange} />
      <button type="submit">Submit</button>
    </form>
  );
};

export default Form;
```

---

## æ€»ç»“

Next.js ç»„ä»¶è®¾è®¡æ¨¡å¼æ˜¯æ„å»ºé«˜æ•ˆã€å¯ç»´æŠ¤åº”ç”¨çš„å…³é”®ã€‚é€šè¿‡æŒæ¡å®¹å™¨ä¸å±•ç¤ºç»„ä»¶ã€é«˜é˜¶ç»„ä»¶ã€æ¸²æŸ“å±æ€§å’Œå¤åˆç»„ä»¶ç­‰æ¨¡å¼ï¼Œä½ å¯ä»¥æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

:::tip æç¤º
å°è¯•å°†è¿™äº›æ¨¡å¼åº”ç”¨åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œè§‚å¯Ÿå®ƒä»¬å¦‚ä½•ç®€åŒ–ä½ çš„ä»£ç ç»“æ„ã€‚
:::

---

## é™„åŠ èµ„æºä¸ç»ƒä¹ 

1. **ç»ƒä¹ **ï¼šå°è¯•ä½¿ç”¨é«˜é˜¶ç»„ä»¶æ¨¡å¼ä¸ºä½ çš„ Next.js åº”ç”¨æ·»åŠ ä¸€ä¸ªåŠ è½½çŠ¶æ€ã€‚
2. **èµ„æº**ï¼š
   - [React å®˜æ–¹æ–‡æ¡£](https://reactjs.org/docs/getting-started.html)
   - [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)
   - [React è®¾è®¡æ¨¡å¼](https://www.patterns.dev/posts/react-patterns/)

Happy Coding! ğŸš€