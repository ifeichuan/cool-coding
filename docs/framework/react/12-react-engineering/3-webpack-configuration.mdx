---
title: Webpacké…ç½®
description: å­¦ä¹ å¦‚ä½•é…ç½®Webpackä»¥ä¼˜åŒ–Reacté¡¹ç›®çš„æ„å»ºæµç¨‹ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µå…¥æ‰‹ï¼Œé€æ­¥è®²è§£Webpackçš„æ ¸å¿ƒé…ç½®ï¼Œå¹¶é€šè¿‡å®é™…æ¡ˆä¾‹å¸®åŠ©åˆå­¦è€…æŒæ¡Webpackçš„ä½¿ç”¨ã€‚
---

# Webpacké…ç½®

åœ¨ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼ŒWebpack æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥å…·ã€‚å®ƒèƒ½å¤Ÿå°†å¤šä¸ªæ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶ä¼˜åŒ–è¿™äº›æ–‡ä»¶ä»¥æé«˜æ€§èƒ½ã€‚å¯¹äºReacté¡¹ç›®æ¥è¯´ï¼ŒWebpackçš„é…ç½®å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤„ç†JSXã€CSSã€å›¾ç‰‡ç­‰èµ„æºï¼Œå¹¶æ”¯æŒæ¨¡å—åŒ–å¼€å‘ã€‚

æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹å­¦ä¹ å¦‚ä½•é…ç½®Webpackï¼Œå¹¶é€šè¿‡å®é™…æ¡ˆä¾‹å±•ç¤ºå…¶åº”ç”¨åœºæ™¯ã€‚

## ä»€ä¹ˆæ˜¯Webpackï¼Ÿ

Webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯å°†é¡¹ç›®ä¸­çš„å„ç§èµ„æºï¼ˆå¦‚JavaScriptã€CSSã€å›¾ç‰‡ç­‰ï¼‰è§†ä¸ºæ¨¡å—ï¼Œå¹¶é€šè¿‡ä¾èµ–å…³ç³»å°†å®ƒä»¬æ‰“åŒ…æˆé€‚åˆæµè§ˆå™¨åŠ è½½çš„æ–‡ä»¶ã€‚

Webpack çš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ï¼š

- **å…¥å£ï¼ˆEntryï¼‰**ï¼šæŒ‡å®šWebpackä»å“ªä¸ªæ–‡ä»¶å¼€å§‹æ„å»ºä¾èµ–å›¾ã€‚
- **è¾“å‡ºï¼ˆOutputï¼‰**ï¼šæŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶è¾“å‡ºä½ç½®å’Œæ–‡ä»¶åã€‚
- **åŠ è½½å™¨ï¼ˆLoadersï¼‰**ï¼šç”¨äºå¤„ç†éJavaScriptæ–‡ä»¶ï¼ˆå¦‚CSSã€å›¾ç‰‡ç­‰ï¼‰ã€‚
- **æ’ä»¶ï¼ˆPluginsï¼‰**ï¼šç”¨äºæ‰§è¡Œæ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå¦‚ä»£ç å‹ç¼©ã€ç¯å¢ƒå˜é‡æ³¨å…¥ç­‰ã€‚

## åŸºç¡€é…ç½®

### 1. å®‰è£…Webpack

é¦–å…ˆï¼Œä½ éœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…WebpackåŠå…¶å‘½ä»¤è¡Œå·¥å…·ï¼š

```bash
npm install webpack webpack-cli --save-dev
```

### 2. åˆ›å»ºWebpacké…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `webpack.config.js` çš„æ–‡ä»¶ã€‚è¿™æ˜¯Webpackçš„é»˜è®¤é…ç½®æ–‡ä»¶ã€‚

```javascript
const path = require('path');

module.exports = {
  entry: './src/index.js', // å…¥å£æ–‡ä»¶
  output: {
    path: path.resolve(__dirname, 'dist'), // è¾“å‡ºç›®å½•
    filename: 'bundle.js', // è¾“å‡ºæ–‡ä»¶å
  },
};
```

### 3. è¿è¡ŒWebpack

åœ¨ `package.json` ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬ï¼Œä»¥ä¾¿è¿è¡ŒWebpackï¼š

```json
{
  "scripts": {
    "build": "webpack"
  }
}
```

ç„¶åï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
npm run build
```

Webpack å°†ä¼šæ ¹æ®é…ç½®æ–‡ä»¶å°† `src/index.js` æ‰“åŒ…åˆ° `dist/bundle.js` ä¸­ã€‚

## åŠ è½½å™¨ï¼ˆLoadersï¼‰

Webpack æœ¬èº«åªèƒ½å¤„ç†JavaScriptæ–‡ä»¶ã€‚ä¸ºäº†å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åŠ è½½å™¨ã€‚

### 1. å¤„ç†CSSæ–‡ä»¶

è¦å¤„ç†CSSæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… `style-loader` å’Œ `css-loader`ï¼š

```bash
npm install style-loader css-loader --save-dev
```

ç„¶ååœ¨ `webpack.config.js` ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```javascript
module.exports = {
  // ... å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader'],
      },
    ],
  },
};
```

### 2. å¤„ç†å›¾ç‰‡æ–‡ä»¶

è¦å¤„ç†å›¾ç‰‡æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `file-loader`ï¼š

```bash
npm install file-loader --save-dev
```

ç„¶ååœ¨ `webpack.config.js` ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```javascript
module.exports = {
  // ... å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.(png|jpe?g|gif|svg)$/,
        use: [
          {
            loader: 'file-loader',
            options: {
              name: '[name].[ext]',
              outputPath: 'images',
            },
          },
        ],
      },
    ],
  },
};
```

## æ’ä»¶ï¼ˆPluginsï¼‰

æ’ä»¶ç”¨äºæ‰§è¡Œæ›´å¤æ‚çš„ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `HtmlWebpackPlugin` è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶ï¼š

```bash
npm install html-webpack-plugin --save-dev
```

ç„¶ååœ¨ `webpack.config.js` ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  // ... å…¶ä»–é…ç½®
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html', // æ¨¡æ¿æ–‡ä»¶
    }),
  ],
};
```

## å®é™…æ¡ˆä¾‹

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„Reacté¡¹ç›®ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
my-react-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ index.css
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ package.json
â””â”€â”€ webpack.config.js
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹Webpacké…ç½®æ¥æ‰“åŒ…è¿™ä¸ªé¡¹ç›®ï¼š

```javascript
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: 'bundle.js',
  },
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader'],
      },
      {
        test: /\.(png|jpe?g|gif|svg)$/,
        use: [
          {
            loader: 'file-loader',
            options: {
              name: '[name].[ext]',
              outputPath: 'images',
            },
          },
        ],
      },
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env', '@babel/preset-react'],
          },
        },
      },
    ],
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html',
    }),
  ],
};
```

## æ€»ç»“

é€šè¿‡æœ¬æ–‡ï¼Œä½ å·²ç»å­¦ä¹ äº†å¦‚ä½•é…ç½®Webpackæ¥å¤„ç†Reacté¡¹ç›®ä¸­çš„å„ç§èµ„æºã€‚æˆ‘ä»¬ä»åŸºç¡€é…ç½®å…¥æ‰‹ï¼Œé€æ­¥è®²è§£äº†åŠ è½½å™¨å’Œæ’ä»¶çš„ä½¿ç”¨ï¼Œå¹¶é€šè¿‡å®é™…æ¡ˆä¾‹å±•ç¤ºäº†Webpackçš„åº”ç”¨åœºæ™¯ã€‚

:::tip
å¦‚æœä½ æƒ³è¿›ä¸€æ­¥å­¦ä¹ Webpackçš„é«˜çº§é…ç½®ï¼Œå¯ä»¥å‚è€ƒ[Webpackå®˜æ–¹æ–‡æ¡£](https://webpack.js.org/)ã€‚
:::

## é™„åŠ èµ„æº

- [Webpackå®˜æ–¹æ–‡æ¡£](https://webpack.js.org/)
- [Webpackä¸­æ–‡æ–‡æ¡£](https://webpack.docschina.org/)
- [Babelå®˜æ–¹æ–‡æ¡£](https://babeljs.io/)

## ç»ƒä¹ 

1. å°è¯•åœ¨ä½ çš„Reacté¡¹ç›®ä¸­é…ç½®Webpackï¼Œå¹¶æ‰“åŒ…ä¸€ä¸ªåŒ…å«CSSå’Œå›¾ç‰‡çš„é¡µé¢ã€‚
2. ä½¿ç”¨ `HtmlWebpackPlugin` è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰èµ„æºéƒ½èƒ½æ­£ç¡®åŠ è½½ã€‚
3. æ¢ç´¢æ›´å¤šWebpackæ’ä»¶ï¼Œå¦‚ `MiniCssExtractPlugin` å’Œ `CleanWebpackPlugin`ï¼Œå¹¶å°è¯•å°†å®ƒä»¬é›†æˆåˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚

Happy coding! ğŸš€